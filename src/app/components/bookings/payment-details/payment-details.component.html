<div class="container">
  <h2 class="fs-5 fw-bold mb-4">Payment Details</h2>

  <form [formGroup]="paymentForm" (ngSubmit)="onSubmit()">
   
    <div class="mb-4">
      <p class="fw-semibold">Pay with:</p>

      <div class="form-check border rounded p-3 mb-2 d-flex align-items-center gap-4">
        <input
          class="form-check-input"
          type="radio"
          formControlName="paymentMethod"
          value="Credit/Debit Card"
          id="creditCard"
        />
        <label
          class="form-check-label d-flex"
          for="creditCard"
        >
          Credit/Debit Card
          
        </label>

        <div class=" d-none d-md-flex align-items-center gap-2">
             <img
            src="	https://www.tripadvisor.com/img2/solutions/shoppingcart/cc_Visa_icon_no_bg.svg"
            alt="Cards"
            style="height: 20px"
          />
          <img
            src="https://www.tripadvisor.com/img2/solutions/shoppingcart/cc_JCB_icon.svg"
            alt="Cards"
            style="height: 20px"
          />
          <img
            src="https://www.tripadvisor.com/img2/solutions/shoppingcart/cc_Discover_icon_no_bg.svg"
            alt="Cards"
            style="height: 20px"
          />
          <img
            src="https://www.tripadvisor.com/img2/solutions/shoppingcart/cc_AMEX_icon_no_bg.svg"
            alt="Cards"
            style="height: 20px"
          />
          <img
            src="	https://www.tripadvisor.com/img2/solutions/shoppingcart/cc_Mastercard_icon_no_bg.svg
"
            alt="Cards"
            style="height: 20px"
          />
          </div>

          <i class="fa-regular fa-credit-card d-block d-md-none"></i>
      </div>

      <div class="form-check border rounded p-3 mb-2 d-flex align-items-center gap-4">
        <input
          class="form-check-input"
          type="radio"
          formControlName="paymentMethod"
          value="PayPal"
          id="paypal"
        />
        <label
          class="form-check-label d-flex "
          for="paypal"
        >
          PayPal
         
        </label>
         <img
            src="https://www.tripadvisor.com/img2/solutions/shoppingcart/PayPal_icon_no_bg.svg"
            alt="PayPal"
            style="height: 20px"
          />
      </div>

      <div class="form-check border rounded p-3 d-flex align-items-center gap-4">
        <input
          class="form-check-input"
          type="radio"
          formControlName="paymentMethod"
          value="Google Pay"
          id="googlePay"
        />
        <label
          class="form-check-label d-flex"
          for="googlePay"
        >
          Google Pay
         
        </label>

         <img
            src="https://www.tripadvisor.com/img2/solutions/shoppingcart/GooglePay_icon.svg"
            alt="Google Pay"
            style="height: 20px"
          />
      </div>


      @if(paymentForm.controls['paymentMethod'].invalid &&
      paymentForm.controls['paymentMethod'].touched){
      <div class="text-danger mt-2">Please select a payment method.</div>
      }
    </div>

   
    <div class="mb-3">
      <h4 class="fw-bold text-center fw-semibold fs-5">Total Price: ${{ totalPrice }}</h4>
       <div class="text-muted d-flex align-items-start gap-2">
      <i class="fa-solid fa-rotate mt-1"></i>
      <div class="col-11">
        <a href="#" class="fw-semibold text-dark">Free cancellation</a>
        +
        <a href="#" class="fw-semibold text-dark">Unlimited reschedule</a>
        before 9:00 AM on March 15 (tour local time)
      </div>
    </div>
    </div>

   
    <p class="small">
      By clicking "Book Now", you acknowledge that you have read and are
      bound by <a href="#" class="text-dark">Tripadvisor's Terms</a> &
      <a href="#" class="text-dark">Privacy and Cookies Statement</a>,
      <a href="#" class="text-dark">Viator's Terms</a>; plus the tour operator's rules &
      regulations.
    </p>

   
    @if (errorMessage) {
    <div class="alert alert-danger mt-3">
      {{ errorMessage }}
    </div>
    }

    
    <div class="text-center">
      <button
        type="submit"
        class="btn btn-warning w-75 py-2 fw-bold rounded-pill"
        [disabled]="isLoading"
      >
        @if (isLoading) {
        <span class="spinner-border spinner-border-sm"></span>
        } Book Now
      </button>
    </div>

   
    <p class="text-muted small mt-3">
      Your booking is facilitated by Viator, Inc. (a Tripadvisor brand), but a
      third-party tour operator provides the tour/activity directly to you.
    </p>
    <p class=" small mt-3">
      Your statement will list Viator/Tripadvisor as the merchant for this transaction
    </p>
  </form>
</div>
